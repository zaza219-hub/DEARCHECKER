<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Checker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background: #f5f5f5;
            color: #333;
            min-height: 100vh;
        }

        .container {
            max-width: 100%;
            padding: 15px;
        }

        /* Header */
        header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            text-align: center;
        }

        .logo {
            font-size: 20px;
            font-weight: bold;
        }

        .auth-buttons {
            margin-top: 10px;
        }

        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 0 5px;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        /* Card Grid */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .card-box {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .card-title {
            font-size: 16px;
            margin-bottom: 10px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Gateway Selection */
        .gateways {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .gateway {
            background: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .gateway.active {
            border-color: #3498db;
            background: #e1f5fe;
        }

        /* Input Areas */
        .input-area {
            margin: 15px 0;
        }

        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            font-family: monospace;
            font-size: 14px;
        }

        .upload-btn {
            width: 100%;
            padding: 12px;
            background: #ecf0f1;
            border: 2px dashed #bdc3c7;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            margin-top: 10px;
        }

        /* Progress */
        .progress {
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #3498db;
            width: 0%;
            transition: width 0.3s;
        }

        /* Results */
        .results {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
        }

        .result-item {
            padding: 8px;
            margin-bottom: 5px;
            border-radius: 5px;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-item.live {
            background: #d5f4e6;
            border-left: 4px solid #27ae60;
        }

        .result-item.dead {
            background: #fadbd8;
            border-left: 4px solid #e74c3c;
        }

        .result-item.points {
            background: #fef5e7;
            border-left: 4px solid #f39c12;
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .stat-box {
            background: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: #7f8c8d;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            padding: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
        }

        .admin-header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            overflow-x: auto;
        }

        .tab {
            padding: 10px 15px;
            background: #ecf0f1;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            white-space: nowrap;
        }

        .tab.active {
            background: #3498db;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .log-item {
            background: white;
            padding: 10px;
            margin-bottom: 5px;
            border-radius: 5px;
            font-size: 13px;
            border-left: 4px solid #3498db;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .gateways {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .result-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
        }

        /* Utility */
        .hidden {
            display: none;
        }

        .text-center {
            text-align: center;
        }

        .mt-10 {
            margin-top: 10px;
        }

        .mb-10 {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h2 class="card-title">Giriş Yap</h2>
            <div class="form-group">
                <label>E-posta</label>
                <input type="email" id="email" placeholder="email@example.com">
            </div>
            <div class="form-group">
                <label>Şifre</label>
                <input type="password" id="password" placeholder="••••••••">
            </div>
            <p class="text-center mb-10">Hesabınız yok mu? <a href="#" id="showRegister">Kayıt Ol</a></p>
            <button class="btn btn-primary" style="width:100%" id="loginBtnModal">Giriş Yap</button>
            <button class="btn" style="width:100%;margin-top:10px" id="closeLogin">İptal</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <h2 class="card-title">Kayıt Ol</h2>
            <div class="form-group">
                <label>E-posta</label>
                <input type="email" id="regEmail" placeholder="email@example.com">
            </div>
            <div class="form-group">
                <label>Şifre</label>
                <input type="password" id="regPassword" placeholder="••••••••">
            </div>
            <div class="form-group">
                <label>Şifre Tekrar</label>
                <input type="password" id="regConfirm" placeholder="••••••••">
            </div>
            <p class="text-center mb-10">Zaten hesabınız var mı? <a href="#" id="showLogin">Giriş Yap</a></p>
            <button class="btn btn-primary" style="width:100%" id="registerBtnModal">Kayıt Ol</button>
            <button class="btn" style="width:100%;margin-top:10px" id="closeRegister">İptal</button>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="container">
            <div class="admin-header">
                <div class="logo">Admin Paneli</div>
                <button class="btn btn-danger" id="logoutAdmin">Çıkış Yap</button>
            </div>

            <div class="tabs">
                <button class="tab active" data-tab="logs">Loglar</button>
                <button class="tab" data-tab="cards">Kartlar</button>
                <button class="tab" data-tab="download">İndir</button>
            </div>

            <div id="logsTab" class="tab-content active">
                <div class="card-box">
                    <h3 class="card-title">Sistem Logları</h3>
                    <div id="logsList"></div>
                </div>
            </div>

            <div id="cardsTab" class="tab-content">
                <div class="card-box">
                    <h3 class="card-title">Tüm Kartlar</h3>
                    <div id="allCardsList"></div>
                </div>
            </div>

            <div id="downloadTab" class="tab-content">
                <div class="card-box">
                    <h3 class="card-title">Kartları İndir</h3>
                    <button class="btn btn-primary" style="width:100%;margin:5px 0" id="downloadAll">Tüm Kartlar</button>
                    <button class="btn btn-success" style="width:100%;margin:5px 0" id="downloadLive">Live Kartlar</button>
                    <button class="btn btn-danger" style="width:100%;margin:5px 0" id="downloadDead">Dead Kartlar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp">
        <div class="container">
            <!-- Header -->
            <header>
                <div class="logo">Card Checker</div>
                <div class="auth-buttons">
                    <button class="btn btn-primary" id="showLoginBtn">Giriş Yap</button>
                    <button class="btn" id="showRegisterBtn">Kayıt Ol</button>
                </div>
            </header>

            <!-- User Info -->
            <div id="userInfo" class="card-box hidden">
                <div class="card-title">Hoş geldin, <span id="userName">Kullanıcı</span></div>
                <button class="btn btn-danger" id="logoutBtn">Çıkış Yap</button>
            </div>

            <!-- Gateway Selection -->
            <div class="card-box">
                <h3 class="card-title">Gateway Seçimi</h3>
                <div class="gateways">
                    <div class="gateway active" data-gateway="stripe">Stripe (%5)</div>
                    <div class="gateway" data-gateway="paypal">PayPal (%4)</div>
                    <div class="gateway" data-gateway="tr-iyzico">TR Iyzico (%3)</div>
                    <div class="gateway" data-gateway="yd-iyzico">YD Iyzico (%3)</div>
                    <div class="gateway" data-gateway="shopify">Shopify (%2)</div>
                    <div class="gateway" data-gateway="puanv1">Puan v1 (%2)</div>
                    <div class="gateway" data-gateway="puanv2">Puan v2 (%2)</div>
                </div>
            </div>

            <!-- Card Input -->
            <div class="card-box">
                <h3 class="card-title">Kartları Yükle</h3>
                <div class="input-area">
                    <textarea id="cardsInput" rows="4" placeholder="Her satıra bir kart (örn: 382928282828|11|28|292)"></textarea>
                    <div class="upload-btn" id="uploadBtn">Dosya Yükle</div>
                    <input type="file" id="fileInput" accept=".txt" hidden>
                </div>
                <button class="btn btn-success" style="width:100%" id="startCheck">Kontrol Et</button>
                
                <div class="progress mt-10 hidden" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div id="progressText" class="text-center mt-10"></div>
            </div>

            <!-- Stats -->
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="totalCards">0</div>
                    <div class="stat-label">Toplam</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="liveCards">0</div>
                    <div class="stat-label">Live</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="deadCards">0</div>
                    <div class="stat-label">Dead</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="pointCards">0</div>
                    <div class="stat-label">Puanlı</div>
                </div>
            </div>

            <!-- Results -->
            <div class="card-box">
                <h3 class="card-title">Sonuçlar</h3>
                <button class="btn" style="width:100%;margin-bottom:10px" id="clearResults">Temizle</button>
                <div class="results" id="resultsList"></div>
            </div>
        </div>
    </div>

    <script>
        // Admin bilgileri
        const ADMIN_EMAIL = 'zaza3131@gmail.com';
        const ADMIN_PASS = 'zaza3131';
        
        let currentUser = null;
        let isAdmin = false;
        let selectedGateway = 'stripe';
        let cards = [];
        let results = [];
        let systemLogs = [];
        let allCards = [];
        let checking = false;
        let checkIndex = 0;
        
        // Gateway oranları
        const rates = {
            stripe: 5, paypal: 4, 'tr-iyzico': 3,
            'yd-iyzico': 3, shopify: 2, puanv1: 2, puanv2: 2
        };
        
        // Sayfa yüklendiğinde
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            setupEvents();
            updateUI();
        });
        
        // Event listener'ları kur
        function setupEvents() {
            // Gateway seçimi
            document.querySelectorAll('.gateway').forEach(g => {
                g.addEventListener('click', () => {
                    document.querySelectorAll('.gateway').forEach(x => x.classList.remove('active'));
                    g.classList.add('active');
                    selectedGateway = g.dataset.gateway;
                    addLog(`${selectedGateway} seçildi`);
                });
            });
            
            // Dosya yükleme
            document.getElementById('uploadBtn').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });
            
            document.getElementById('fileInput').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('cardsInput').value = e.target.result;
                    parseCards();
                    alert('Dosya yüklendi!');
                };
                reader.readAsText(file);
            });
            
            // Kartları parse et
            document.getElementById('cardsInput').addEventListener('input', parseCards);
            
            // Kontrol başlat
            document.getElementById('startCheck').addEventListener('click', startChecking);
            
            // Temizle
            document.getElementById('clearResults').addEventListener('click', () => {
                results = [];
                updateResults();
                addLog('Sonuçlar temizlendi');
            });
            
            // Giriş/Kayıt butonları
            document.getElementById('showLoginBtn').addEventListener('click', () => showModal('login'));
            document.getElementById('showRegisterBtn').addEventListener('click', () => showModal('register'));
            document.getElementById('showLogin').addEventListener('click', () => {
                hideModal('register');
                showModal('login');
            });
            document.getElementById('showRegister').addEventListener('click', () => {
                hideModal('login');
                showModal('register');
            });
            document.getElementById('closeLogin').addEventListener('click', () => hideModal('login'));
            document.getElementById('closeRegister').addEventListener('click', () => hideModal('register'));
            
            // Giriş işlemi
            document.getElementById('loginBtnModal').addEventListener('click', login);
            document.getElementById('registerBtnModal').addEventListener('click', register);
            
            // Çıkış
            document.getElementById('logoutBtn').addEventListener('click', logout);
            document.getElementById('logoutAdmin').addEventListener('click', logout);
            
            // Admin tab'ları
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tabId + 'Tab').classList.add('active');
                    if (tabId === 'logs') loadLogs();
                    if (tabId === 'cards') loadAllCards();
                });
            });
            
            // İndirme butonları
            document.getElementById('downloadAll').addEventListener('click', () => downloadCards('all'));
            document.getElementById('downloadLive').addEventListener('click', () => downloadCards('live'));
            document.getElementById('downloadDead').addEventListener('click', () => downloadCards('dead'));
        }
        
               // Kartları parse et
        function parseCards() {
            const text = document.getElementById('cardsInput').value;
            cards = text.trim().split('\n')
                .map(line => line.trim())
                .filter(line => /^\d{12,16}\|\d{1,2}\|(\d{2}|\d{4})\|\d{3}$/.test(line));
            document.getElementById('totalCards').textContent = cards.length;
        }
        
        // Kontrol başlat
        function startChecking() {
            if (!currentUser) {
                alert('Lütfen önce giriş yapın!');
                showModal('login');
                return;
            }
            
            if (cards.length === 0) {
                alert('Lütfen kartları yükleyin!');
                return;
            }
            
            checking = true;
            checkIndex = 0;
            results = [];
            updateResults();
            
            document.getElementById('progressContainer').classList.remove('hidden');
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('startCheck').disabled = true;
            
            checkNext();
        }
        
        // Sonraki kartı kontrol et
        function checkNext() {
            if (checkIndex >= cards.length) {
                finishCheck();
                return;
            }
            
            const card = cards[checkIndex];
            const result = checkCard(card);
            results.push(result);
            
            // Sonucu göster
            updateResults();
            
            // İlerleme
            const progress = ((checkIndex + 1) / cards.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `${checkIndex + 1}/${cards.length} (${Math.round(progress)}%)`;
            
            // Logla
            const log = {
                user: currentUser.email,
                card: card,
                result: result.status,
                gateway: selectedGateway,
                time: new Date().toLocaleTimeString()
            };
            systemLogs.unshift(log);
            allCards.push(log);
            
            // 5 saniye bekle
            checkIndex++;
            setTimeout(checkNext, 5000);
            
            saveData();
        }
        
        // Kart kontrolü
        function checkCard(card) {
            const parts = card.split('|');
            const cvv = parts[3];
            const isPuan = selectedGateway.includes('puan');
            
            let status = 'dead';
            let message = 'Kart geçersiz';
            let points = null;
            
            if (isPuan && cvv === '000') {
                if (Math.random() * 100 < rates[selectedGateway]) {
                    status = 'points';
                    points = (Math.random() * 10000).toFixed(2);
                    message = points + ' TL puan';
                }
            } else if (!isPuan) {
                if (Math.random() * 100 < rates[selectedGateway]) {
                    status = 'live';
                    message = 'Kart geçerli';
                }
            }
            
            return { card, status, message, time: new Date().toLocaleTimeString() };
        }
        
        // Kontrolü bitir
        function finishCheck() {
            checking = false;
            document.getElementById('startCheck').disabled = false;
            document.getElementById('progressText').textContent = 'Kontrol tamamlandı!';
            addLog(`${cards.length} kart kontrol edildi`);
            alert('Kontrol tamamlandı!');
        }
        
        // Sonuçları güncelle
        function updateResults() {
            const container = document.getElementById('resultsList');
            container.innerHTML = '';
            
            let live = 0, dead = 0, points = 0;
            
            results.forEach(result => {
                const div = document.createElement('div');
                div.className = `result-item ${result.status}`;
                
                let badge = result.status === 'live' ? 'LIVE' : 
                          result.status === 'points' ? 'PUAN' : 'DEAD';
                
                div.innerHTML = `
                    <div>${result.card}</div>
                    <div>${badge} - ${result.message}</div>
                `;
                
                container.appendChild(div);
                
                if (result.status === 'live') live++;
                else if (result.status === 'dead') dead++;
                else if (result.status === 'points') points++;
            });
            
            document.getElementById('liveCards').textContent = live;
            document.getElementById('deadCards').textContent = dead;
            document.getElementById('pointCards').textContent = points;
        }
        
        // Giriş işlemi
        function login() {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('password').value;
            
            if (!email || !pass) {
                alert('Lütfen tüm alanları doldurun!');
                return;
            }
            
            // Admin kontrolü
            if (email === ADMIN_EMAIL && pass === ADMIN_PASS) {
                currentUser = { email: email, name: 'Admin' };
                isAdmin = true;
                document.getElementById('mainApp').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadLogs();
                addLog('Admin giriş yaptı');
            } else {
                // Normal kullanıcı
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const user = users.find(u => u.email === email && u.password === pass);
                
                if (user) {
                    currentUser = { email: user.email, name: user.name };
                    addLog('Giriş yapıldı');
                } else {
                    alert('Hatalı bilgiler!');
                    return;
                }
            }
            
            hideModal('login');
            updateUI();
            saveData();
        }
        
        // Kayıt işlemi
        function register() {
            const email = document.getElementById('regEmail').value;
            const pass = document.getElementById('regPassword').value;
            const confirm = document.getElementById('regConfirm').value;
            
            if (!email || !pass || !confirm) {
                alert('Lütfen tüm alanları doldurun!');
                return;
            }
            
            if (pass !== confirm) {
                alert('Şifreler eşleşmiyor!');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.some(u => u.email === email)) {
                alert('Bu email zaten kayıtlı!');
                return;
            }
            
            const newUser = {
                email: email,
                password: pass,
                name: email.split('@')[0]
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = { email: email, name: newUser.name };
            
            hideModal('register');
            updateUI();
            addLog('Yeni kayıt: ' + email);
            saveData();
        }
        
        // Çıkış yap
        function logout() {
            if (currentUser) {
                addLog('Çıkış yapıldı: ' + currentUser.email);
            }
            
            currentUser = null;
            isAdmin = false;
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            updateUI();
            saveData();
        }
        
        // UI güncelle
        function updateUI() {
            if (currentUser) {
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('userInfo').classList.remove('hidden');
                document.getElementById('showLoginBtn').style.display = 'none';
                document.getElementById('showRegisterBtn').style.display = 'none';
            } else {
                document.getElementById('userInfo').classList.add('hidden');
                document.getElementById('showLoginBtn').style.display = 'inline-block';
                document.getElementById('showRegisterBtn').style.display = 'inline-block';
            }
        }
        
        // Logları yükle
        function loadLogs() {
            const container = document.getElementById('logsList');
            container.innerHTML = '';
            
            systemLogs.slice(0, 50).forEach(log => {
                const div = document.createElement('div');
                div.className = 'log-item';
                div.innerHTML = `
                    <div><strong>${log.user}</strong> - ${log.gateway}</div>
                    <div>${log.card}</div>
                    <div>${log.result} - ${log.time}</div>
                `;
                container.appendChild(div);
            });
        }
        
        // Tüm kartları yükle
        function loadAllCards() {
            const container = document.getElementById('allCardsList');
            container.innerHTML = '';
            
            allCards.slice(0, 50).forEach(card => {
                const div = document.createElement('div');
                div.className = 'log-item';
                div.innerHTML = `
                    <div>${card.card}</div>
                    <div>${card.result} - ${card.time} - ${card.user}</div>
                `;
                container.appendChild(div);
            });
        }
        
        // Kartları indir
        function downloadCards(type) {
            let filtered = [];
            
            if (type === 'all') filtered = allCards.map(c => c.card);
            else if (type === 'live') filtered = allCards.filter(c => c.result === 'live').map(c => c.card);
            else if (type === 'dead') filtered = allCards.filter(c => c.result === 'dead').map(c => c.card);
            
            if (filtered.length === 0) {
                alert('Kart bulunamadı!');
                return;
            }
            
            const content = filtered.join('\n');
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = type + '-kartlar.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            addLog(`${filtered.length} kart indirildi (${type})`);
        }
        
        // Log ekle
        function addLog(message) {
            const log = {
                message: message,
                time: new Date().toLocaleString()
            };
            systemLogs.unshift(log);
            saveData();
        }
        
        // Modal göster
        function showModal(type) {
            document.getElementById(type + 'Modal').classList.add('active');
        }
        
        // Modal gizle
        function hideModal(type) {
            document.getElementById(type + 'Modal').classList.remove('active');
            document.getElementById(type === 'login' ? 'email' : 'regEmail').value = '';
            document.getElementById(type === 'login' ? 'password' : 'regPassword').value = '';
            if (type === 'register') document.getElementById('regConfirm').value = '';
        }
        
        // Verileri yükle
        function loadData() {
            const savedUser = localStorage.getItem('currentUser');
            const savedLogs = localStorage.getItem('systemLogs');
            const savedCards = localStorage.getItem('allCards');
            
            if (savedUser) currentUser = JSON.parse(savedUser);
            if (savedLogs) systemLogs = JSON.parse(savedLogs);
            if (savedCards) allCards = JSON.parse(savedCards);
            
            if (currentUser?.email === ADMIN_EMAIL) {
                isAdmin = true;
                document.getElementById('mainApp').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadLogs();
            }
        }
        
        // Verileri kaydet
        function saveData() {
            if (currentUser) {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
            localStorage.setItem('systemLogs', JSON.stringify(systemLogs));
            localStorage.setItem('allCards', JSON.stringify(allCards));
        }
        
        //  kartlar ekle
        window.addEventListener('load', () => {
            if (document.getElementById('cardsInput').value === '') {
                document.getElementById('cardsInput').value = 
                    `382928282828|11|28|292\n4532015112830366|05|2025|123\n4916583953641212|09|2024|456\n4024007195307832|02|2026|000`;
                parseCards();
            }
        });
    </script>
</body>
</html>