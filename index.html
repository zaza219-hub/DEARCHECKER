<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” Card Checker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background: #0a0a0a;
            color: #00ff00;
            min-height: 100vh;
        }

        .hidden {
            display: none !important;
        }

        .active {
            display: block !important;
        }

        /* Header */
        header {
            background: #111;
            padding: 15px;
            border-bottom: 2px solid #00ff00;
            text-align: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .auth-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .btn {
            padding: 8px 20px;
            border: 1px solid #00ff00;
            background: #111;
            color: #00ff00;
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
        }

        .btn:hover {
            background: #00ff00;
            color: #000;
        }

        /* Login Screen */
        .login-screen {
            max-width: 400px;
            margin: 50px auto;
            padding: 30px;
            background: #111;
            border: 2px solid #00ff00;
            border-radius: 8px;
        }

        .form-group {
            margin: 20px 0;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            background: #222;
            border: 1px solid #00ff00;
            color: #00ff00;
            border-radius: 4px;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 15px;
            display: none;
        }

        .active {
            display: block;
        }

        /* Gateway Select Button */
        .gateway-select-btn {
            width: 100%;
            padding: 12px;
            background: #111;
            border: 1px solid #00ff00;
            color: #00ff00;
            text-align: center;
            cursor: pointer;
            border-radius: 4px;
            margin: 10px 0;
            font-size: 16px;
        }

        /* Gateway Dropdown */
        .gateway-dropdown {
            background: #111;
            border: 1px solid #00ff00;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            display: none;
        }

        .gateway-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
        }

        .gateway-card {
            background: #111;
            border: 1px solid #00ff00;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
        }

        .gateway-card.active {
            background: #003300;
            border-color: #00ff00;
        }

        .gateway-icon {
            font-size: 20px;
            margin-bottom: 5px;
        }

        /* Input Area */
        .card-box {
            background: #111;
            border: 1px solid #00ff00;
            border-radius: 4px;
            padding: 20px;
            margin: 20px 0;
        }

        textarea {
            width: 100%;
            height: 120px;
            background: #222;
            border: 1px solid #00ff00;
            color: #00ff00;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: monospace;
        }

        .file-upload {
            background: #222;
            border: 2px dashed #00ff00;
            padding: 15px;
            text-align: center;
            border-radius: 4px;
            margin: 10px 0;
            cursor: pointer;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .action-buttons .btn {
            flex: 1;
        }

        .btn-success {
            background: #003300;
            border-color: #00ff00;
        }

        .btn-danger {
            background: #330000;
            border-color: #ff0000;
            color: #ff0000;
        }

        .btn-danger:hover {
            background: #ff0000;
            color: #000;
        }

        /* Progress Bar */
        .progress-container {
            background: #111;
            border: 1px solid #00ff00;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            display: none;
        }

        .progress-bar {
            height: 10px;
            background: #222;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: #00ff00;
            width: 0%;
            transition: width 0.3s;
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .stat-box {
            background: #111;
            border: 1px solid #00ff00;
            padding: 15px;
            text-align: center;
            border-radius: 4px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        /* Results */
        .results-container {
            max-height: 400px;
            overflow-y: auto;
            margin: 20px 0;
        }

        .result-item {
            background: #111;
            border: 1px solid #00ff00;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }

        .live {
            border-left: 4px solid #00ff00;
        }

        .dead {
            border-left: 4px solid #ff0000;
        }

        .result-status {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .live .result-status {
            color: #00ff00;
        }

        .dead .result-status {
            color: #ff0000;
        }

        .card-number {
            font-family: monospace;
            margin-bottom: 5px;
        }

        /* Admin Panel */
        .admin-container {
            display: none;
        }

        .admin-header {
            background: #111;
            border: 2px solid #00ff00;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
            text-align: center;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .tab {
            padding: 10px 20px;
            background: #111;
            border: 1px solid #00ff00;
            color: #00ff00;
            cursor: pointer;
            white-space: nowrap;
            border-radius: 4px;
        }

        .tab.active {
            background: #003300;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .log-item {
            background: #111;
            border: 1px solid #00ff00;
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .gateway-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1;
                text-align: center;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .gateway-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #111;
        }

        ::-webkit-scrollbar-thumb {
            background: #00ff00;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen">
        <div class="login-screen">
            <div class="logo">ğŸ” Card Checker</div>
            <div class="form-group">
                <input type="email" id="loginEmail" placeholder="E-posta">
            </div>
            <div class="form-group">
                <input type="password" id="loginPassword" placeholder="Åifre">
            </div>
            <button class="btn" style="width:100%;margin:10px 0" onclick="login()">GiriÅŸ Yap</button>
            <button class="btn" style="width:100%" onclick="showRegister()">KayÄ±t Ol</button>
        </div>
    </div>

    <!-- Register Screen -->
    <div id="registerScreen" class="hidden">
        <div class="login-screen">
            <div class="logo">ğŸ“ KayÄ±t Ol</div>
            <div class="form-group">
                <input type="email" id="regEmail" placeholder="E-posta">
            </div>
            <div class="form-group">
                <input type="password" id="regPassword" placeholder="Åifre">
            </div>
            <div class="form-group">
                <input type="password" id="regConfirm" placeholder="Åifre Tekrar">
            </div>
            <button class="btn" style="width:100%;margin:10px 0" onclick="register()">KayÄ±t Ol</button>
            <button class="btn" style="width:100%" onclick="showLogin()">Geri DÃ¶n</button>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="container">
        <div class="card-box">
            <div style="font-size:18px;margin-bottom:10px;">ğŸ¯ Gateway SeÃ§imi</div>
            <div class="gateway-select-btn" onclick="toggleGatewayDropdown()">
                ğŸ”½ Gateway SeÃ§in (SeÃ§ili: <span id="selectedGateway">Stripe</span>)
            </div>
            
            <div class="gateway-dropdown" id="gatewayDropdown">
                <div class="gateway-grid">
                    <div class="gateway-card active" onclick="selectGateway('stripe')">
                        <div class="gateway-icon">ğŸ’³</div>
                        <div>Stripe</div>
                    </div>
                    <div class="gateway-card" onclick="selectGateway('paypal')">
                        <div class="gateway-icon">ğŸ’°</div>
                        <div>PayPal</div>
                    </div>
                    <div class="gateway-card" onclick="selectGateway('tr-iyzico')">
                        <div class="gateway-icon">ğŸ‡¹ğŸ‡·</div>
                        <div>TR Iyzico</div>
                    </div>
                    <div class="gateway-card" onclick="selectGateway('yd-iyzico')">
                        <div class="gateway-icon">ğŸŒ</div>
                        <div>YD Iyzico</div>
                    </div>
                    <div class="gateway-card" onclick="selectGateway('shopify')">
                        <div class="gateway-icon">ğŸ›ï¸</div>
                        <div>Shopify</div>
                    </div>
                    <div class="gateway-card" onclick="selectGateway('puanv1')">
                        <div class="gateway-icon">â­</div>
                        <div>Puan v1</div>
                    </div>
                    <div class="gateway-card" onclick="selectGateway('puanv2')">
                        <div class="gateway-icon">ğŸŒŸ</div>
                        <div>Puan v2</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-box">
            <div style="font-size:18px;margin-bottom:15px;">ğŸ“„ KartlarÄ± YÃ¼kle</div>
            <textarea id="cardsInput" placeholder="Her satÄ±ra bir kart (Ã¶rn: 382928282828|11|28|292)"></textarea>
            <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                ğŸ“ Dosya SeÃ§
            </div>
            <input type="file" id="fileInput" accept=".txt" hidden onchange="handleFile(this)">
            
            <div class="action-buttons">
                <button class="btn btn-success" id="startBtn" onclick="startCheck()">ğŸš€ Kontrol Et</button>
                <button class="btn btn-danger" id="stopBtn" onclick="stopCheck()" style="display:none">â¹ï¸ KontrolÃ¼ Durdur</button>
            </div>
        </div>

        <div class="progress-container" id="progressContainer">
            <div style="margin-bottom:10px;">âš¡ Kontrol Ediliyor...</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="progressText" style="text-align:center;margin-top:10px;"></div>
        </div>

        <div class="stats">
            <div class="stat-box">
                <div class="stat-value" id="totalCards">0</div>
                <div>Toplam</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="liveCards">0</div>
                <div>ğŸŸ¢ Live</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="deadCards">0</div>
                <div>ğŸ”´ Dead</div>
            </div>
        </div>

        <div class="card-box">
            <div style="display:flex;justify-content:space-between;margin-bottom:15px;">
                <div style="font-size:18px;">ğŸ“Š SonuÃ§lar</div>
                <button class="btn" onclick="clearResults()">ğŸ—‘ï¸ Temizle</button>
            </div>
            <div class="results-container" id="resultsList"></div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="container">
        <div class="admin-header">
            <div style="font-size:24px;margin-bottom:10px;">âš¡ Admin Paneli</div>
            <button class="btn" onclick="logout()">ğŸšª Ã‡Ä±kÄ±ÅŸ</button>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('logs')">ğŸ“‹ Loglar</button>
            <button class="tab" onclick="showTab('cards')">ğŸ´ Kartlar</button>
            <button class="tab" onclick="showTab('download')">ğŸ“¥ Ä°ndir</button>
        </div>

        <div id="logs" class="tab-content active">
            <div class="card-box">
                <div style="font-size:18px;margin-bottom:15px;">ğŸ“ˆ Sistem LoglarÄ±</div>
                <div id="logsList"></div>
            </div>
        </div>

        <div id="cards" class="tab-content">
            <div class="card-box">
                <div style="font-size:18px;margin-bottom:15px;">ğŸ“Š TÃ¼m Kartlar</div>
                <div id="allCardsList"></div>
            </div>
        </div>

        <div id="download" class="tab-content">
            <div class="card-box">
                <div style="font-size:18px;margin-bottom:15px;">ğŸ’¾ KartlarÄ± Ä°ndir</div>
                <button class="btn" style="width:100%;margin:10px 0" onclick="downloadCards('all')">ğŸ“¦ TÃ¼m Kartlar</button>
                <button class="btn" style="width:100%;margin:10px 0" onclick="downloadCards('live')">ğŸŸ¢ Live Kartlar</button>
                <button class="btn" style="width:100%;margin:10px 0" onclick="downloadCards('dead')">ğŸ”´ Dead Kartlar</button>
            </div>
        </div>
    </div>

    <script>
        const ADMIN = { email: 'zaza3131@gmail.com', pass: 'zaza3131' };
        const RATES = { stripe: 5, paypal: 4, 'tr-iyzico': 3, 'yd-iyzico': 3, shopify: 2, puanv1: 2, puanv2: 2 };
        
        let user = null;
        let gateway = 'stripe';
        let cards = [];
        let results = [];
        let logs = [];
        let allCards = [];
        let checking = false;
        let index = 0;
        let checkTimeout = null;

        // BaÅŸlangÄ±Ã§
        loadData();
        if (!user) showLogin();

        // Luhn algoritmasÄ± ile kart numarasÄ± kontrolÃ¼
        function luhnCheck(cardNumber) {
            cardNumber = cardNumber.replace(/\D/g, '');
            let sum = 0;
            let shouldDouble = false;
            
            for (let i = cardNumber.length - 1; i >= 0; i--) {
                let digit = parseInt(cardNumber.charAt(i));
                
                if (shouldDouble) {
                    digit *= 2;
                    if (digit > 9) digit -= 9;
                }
                
                sum += digit;
                shouldDouble = !shouldDouble;
            }
            
            return (sum % 10) === 0;
        }

        // Tarih kontrolÃ¼
        function checkExpiry(month, year) {
            const now = new Date();
            const currentYear = now.getFullYear();
            const currentMonth = now.getMonth() + 1;
            
            // YÄ±lÄ± 4 haneli yap
            if (year.length === 2) {
                year = '20' + year;
            }
            
            const expYear = parseInt(year);
            const expMonth = parseInt(month);
            
            // Tarih geÃ§miÅŸ mi kontrol et
            if (expYear < currentYear) return false;
            if (expYear === currentYear && expMonth < currentMonth) return false;
            
            // Ay 1-12 arasÄ±nda mÄ± kontrol et
            if (expMonth < 1 || expMonth > 12) return false;
            
            return true;
        }

        // Gateway dropdown aÃ§/kapa
        function toggleGatewayDropdown() {
            const dropdown = document.getElementById('gatewayDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        // Gateway seÃ§
        function selectGateway(name) {
            gateway = name;
            document.getElementById('selectedGateway').textContent = 
                name === 'stripe' ? 'Stripe' :
                name === 'paypal' ? 'PayPal' :
                name === 'tr-iyzico' ? 'TR Iyzico' :
                name === 'yd-iyzico' ? 'YD Iyzico' :
                name === 'shopify' ? 'Shopify' :
                name === 'puanv1' ? 'Puan v1' : 'Puan v2';
            
            document.querySelectorAll('.gateway-card').forEach(c => c.classList.remove('active'));
            event.target.closest('.gateway-card').classList.add('active');
            
            document.getElementById('gatewayDropdown').style.display = 'none';
        }

        // Dosya yÃ¼kle
        function handleFile(input) {
            const file = input.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                document.getElementById('cardsInput').value = e.target.result;
                parseCards();
            };
            reader.readAsText(file);
        }

        // KartlarÄ± parse et
        function parseCards() {
            const text = document.getElementById('cardsInput').value;
            cards = text.trim().split('\n')
                .map(l => l.trim())
                .filter(l => /^\d{12,16}\|\d{1,2}\|(\d{2}|\d{4})\|\d{3}$/.test(l));
            document.getElementById('totalCards').textContent = cards.length;
        }

        // Kontrol baÅŸlat
        function startCheck() {
            if (!user) return showLogin();
            parseCards();
            if (cards.length === 0) return alert('Kart bulunamadÄ±');
            
            checking = true;
            index = 0;
            results = [];
            updateResults();
            
                     
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'block';
            
            checkNext();
        }

        // KontrolÃ¼ durdur
        function stopCheck() {
            checking = false;
            if (checkTimeout) clearTimeout(checkTimeout);
            document.getElementById('startBtn').style.display = 'block';
            document.getElementById('stopBtn').style.display = 'none';
            alert('Kontrol durduruldu');
        }

        // Kart kontrolÃ¼
        function checkNext() {
            if (!checking || index >= cards.length) {
                checking = false;
                document.getElementById('startBtn').style.display = 'block';
                document.getElementById('stopBtn').style.display = 'none';
                if (index >= cards.length) alert('Kontrol tamamlandÄ±');
                return;
            }
            
            const card = cards[index];
            const result = checkCard(card);
            results.push(result);
            updateResults();
            
            const progress = ((index + 1) / cards.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${index + 1}/${cards.length} kart`;
            
            const log = {
                user: user.email,
                card: card,
                result: result.status,
                gateway: gateway,
                time: new Date().toLocaleTimeString()
            };
            logs.unshift(log);
            allCards.push(log);
            
            index++;
            checkTimeout = setTimeout(checkNext, 5000);
            saveData();
        }

        // Kart kontrol fonksiyonu
        function checkCard(card) {
            const parts = card.split('|');
            const cardNumber = parts[0];
            const month = parts[1];
            const year = parts[2];
            const cvv = parts[3];
            const isPuan = gateway === 'puanv1' || gateway === 'puanv2';
            
            // Luhn algoritmasÄ± ile kontrol
            const luhnValid = luhnCheck(cardNumber);
            
            // Tarih kontrolÃ¼
            const expiryValid = checkExpiry(month, year);
            
            // EÄŸer Luhn veya tarih geÃ§ersizse direk dead
            if (!luhnValid || !expiryValid) {
                return { card, status: 'dead', puan: 'GeÃ§ersiz' };
            }
            
            let status = 'dead';
            let puan = '';
            
            if (isPuan) {
                if (Math.random() * 100 < RATES[gateway]) {
                    status = 'live';
                    puan = (Math.random() * 10000).toFixed(2) + ' TL';
                } else {
                    puan = 'GeÃ§ersiz';
                }
            } else {
                if (Math.random() * 100 < RATES[gateway]) {
                    status = 'live';
                }
            }
            
            return { card, status, puan };
        }

        // SonuÃ§larÄ± gÃ¼ncelle
        function updateResults() {
            const container = document.getElementById('resultsList');
            container.innerHTML = '';
            
            let live = 0, dead = 0;
            
            results.slice().reverse().forEach(r => {
                const div = document.createElement('div');
                div.className = `result-item ${r.status}`;
                
                let statusText = r.status === 'live' ? 'ğŸŸ¢ LÄ°VE' : 'ğŸ”´ Ã–LÃœ';
                let puanText = '';
                
                if (gateway === 'puanv1' || gateway === 'puanv2') {
                    puanText = `<div>Puan: ${r.puan}</div>`;
                }
                
                div.innerHTML = `
                    <div class="result-status">${statusText}</div>
                    <div class="card-number">${r.card}</div>
                    ${puanText}
                `;
                container.appendChild(div);
                
                if (r.status === 'live') live++;
                else dead++;
            });
            
            document.getElementById('liveCards').textContent = live;
            document.getElementById('deadCards').textContent = dead;
        }

        // SonuÃ§larÄ± temizle
        function clearResults() {
            if (checking) return alert('Kontrol sÃ¼rÃ¼yor');
            results = [];
            updateResults();
        }

        // EkranlarÄ± gÃ¶ster/gizle
        function showLogin() {
            hideAll();
            document.getElementById('loginScreen').classList.remove('hidden');
        }

        function showRegister() {
            hideAll();
            document.getElementById('registerScreen').classList.remove('hidden');
        }

        function showMainApp() {
            hideAll();
            document.getElementById('mainApp').classList.add('active');
        }

        function showAdminPanel() {
            hideAll();
            document.getElementById('adminPanel').classList.add('active');
            showTab('logs');
        }

        function hideAll() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('registerScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('active');
            document.getElementById('adminPanel').classList.remove('active');
        }

        // Tab gÃ¶ster
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
            
            if (tabId === 'logs') loadLogs();
            if (tabId === 'cards') loadAllCards();
        }

        // LoglarÄ± yÃ¼kle
        function loadLogs() {
            const container = document.getElementById('logsList');
            container.innerHTML = logs.slice(0, 50).map(l => `
                <div class="log-item">
                    <div>${l.user} | ${l.gateway}</div>
                    <div>${l.card}</div>
                    <div>${l.result} | ${l.time}</div>
                </div>
            `).join('');
        }

        // TÃ¼m kartlarÄ± yÃ¼kle
        function loadAllCards() {
            const container = document.getElementById('allCardsList');
            container.innerHTML = allCards.slice(0, 50).map(c => `
                <div class="log-item">
                    <div>${c.card}</div>
                    <div>${c.result} | ${c.user} | ${c.time}</div>
                </div>
            `).join('');
        }

        // KartlarÄ± indir
        function downloadCards(type) {
            let filtered = [];
            if (type === 'all') filtered = allCards.map(c => c.card);
            else if (type === 'live') filtered = allCards.filter(c => c.result === 'live').map(c => c.card);
            else if (type === 'dead') filtered = allCards.filter(c => c.result === 'dead').map(c => c.card);
            
            if (filtered.length === 0) return alert('Kart bulunamadÄ±');
            
            const content = filtered.join('\n');
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = type + '-kartlar.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // GiriÅŸ yap
        function login() {
            const email = document.getElementById('loginEmail').value;
            const pass = document.getElementById('loginPassword').value;
            
            if (!email || !pass) return alert('Bilgileri doldurun');
            
            if (email === ADMIN.email && pass === ADMIN.pass) {
                user = { email: email, name: 'Admin' };
                showAdminPanel();
            } else {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const found = users.find(u => u.email === email && u.password === pass);
                if (!found) return alert('HatalÄ± bilgiler');
                user = { email: found.email, name: found.name };
                showMainApp();
            }
            
            saveData();
        }

        // KayÄ±t ol
        function register() {
            const email = document.getElementById('regEmail').value;
            const pass = document.getElementById('regPassword').value;
            const confirm = document.getElementById('regConfirm').value;
            
            if (!email || !pass || !confirm) return alert('Bilgileri doldurun');
            if (pass !== confirm) return alert('Åifreler eÅŸleÅŸmiyor');
            
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.some(u => u.email === email)) return alert('Email kullanÄ±mda');
            
            const newUser = { email: email, password: pass, name: email.split('@')[0] };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            user = { email: email, name: newUser.name };
            showMainApp();
            saveData();
        }

        // Ã‡Ä±kÄ±ÅŸ yap
        function logout() {
            user = null;
            showLogin();
            localStorage.removeItem('currentUser');
        }

        // Verileri kaydet
        function saveData() {
            if (user) localStorage.setItem('currentUser', JSON.stringify(user));
            localStorage.setItem('logs', JSON.stringify(logs));
            localStorage.setItem('allCards', JSON.stringify(allCards));
        }

        // Verileri yÃ¼kle
        function loadData() {
            const savedUser = localStorage.getItem('currentUser');
            const savedLogs = localStorage.getItem('logs');
            const savedCards = localStorage.getItem('allCards');
            
            if (savedUser) {
                user = JSON.parse(savedUser);
                if (user.email === ADMIN.email) showAdminPanel();
                else showMainApp();
            }
            if (savedLogs) logs = JSON.parse(savedLogs);
            if (savedCards) allCards = JSON.parse(savedCards);
        }

        // kartlar
        window.onload = () => {
            if (!document.getElementById('cardsInput').value) {
                document.getElementById('cardsInput').value = 
                    `382928282828|11|28|292\n4532015112830366|05|2025|123\n4916583953641212|09|2024|456\n4024007195307832|02|2026|000`;
                parseCards();
            }
        };
    </script>
</body>
</html>